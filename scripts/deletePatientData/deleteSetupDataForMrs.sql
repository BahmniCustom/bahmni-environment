#this would delete basic setup data of MRS system including users, bed etc. 
UPDATE active_list SET creator =1;
UPDATE active_list SET voided_by =1;
UPDATE active_list_type SET creator =1;
UPDATE active_list_type SET retired_by =1;
UPDATE bahmni_config SET changed_by =1;
UPDATE bahmni_config SET creator =1;
UPDATE bed SET changed_by =1;
UPDATE bed SET creator =1;
UPDATE bed SET voided_by =1;
UPDATE bed_patient_assignment_map SET changed_by =1;
UPDATE bed_patient_assignment_map SET creator =1;
UPDATE bed_patient_assignment_map SET voided_by =1;
UPDATE care_setting SET changed_by =1;
UPDATE care_setting SET creator =1;
UPDATE care_setting SET retired_by =1;
UPDATE cohort SET creator =1;
UPDATE cohort SET changed_by =1;
UPDATE cohort SET voided_by =1;
UPDATE concept SET creator =1;
UPDATE concept SET changed_by =1;
UPDATE concept SET retired_by =1;
UPDATE concept_answer SET creator =1;
UPDATE concept_class SET creator =1;
UPDATE concept_class SET retired_by =1;
UPDATE concept_datatype SET creator =1;
UPDATE concept_datatype SET retired_by =1;
UPDATE concept_description SET changed_by =1;
UPDATE concept_description SET creator =1;
UPDATE concept_map_type SET changed_by =1;
UPDATE concept_map_type SET creator =1;
UPDATE concept_map_type SET retired_by =1;
UPDATE concept_name SET creator =1;
UPDATE concept_name SET voided_by =1;
UPDATE concept_proposal SET changed_by =1;
UPDATE concept_proposal SET creator =1;
UPDATE concept_reference_map SET changed_by =1;
UPDATE concept_reference_map SET creator =1;
UPDATE concept_reference_source SET creator =1;
UPDATE concept_reference_source SET retired_by =1;
UPDATE concept_reference_term SET changed_by =1;
UPDATE concept_reference_term SET creator =1;
UPDATE concept_reference_term SET retired_by =1;
UPDATE concept_reference_term_map SET changed_by =1;
UPDATE concept_reference_term_map SET creator =1;
UPDATE concept_set SET creator =1;
UPDATE conditions SET creator =1;
UPDATE conditions SET voided_by =1;
UPDATE drug SET changed_by =1;
UPDATE drug SET creator =1;
UPDATE drug SET retired_by =1;
UPDATE drug_reference_map SET creator =1;
UPDATE drug_reference_map SET changed_by =1;
UPDATE drug_reference_map SET retired_by =1;
UPDATE encounter SET changed_by =1;
UPDATE encounter SET creator =1;
UPDATE encounter SET voided_by =1;
UPDATE encounter_provider SET changed_by =1;
UPDATE encounter_provider SET creator =1;
UPDATE encounter_provider SET voided_by =1;
UPDATE encounter_role SET changed_by =1;
UPDATE encounter_role SET creator =1;
UPDATE encounter_role SET retired_by =1;
UPDATE encounter_type SET creator =1;
UPDATE encounter_type SET retired_by =1;
UPDATE field SET changed_by =1;
UPDATE field SET creator =1;
UPDATE field SET retired_by =1;
UPDATE field_answer SET creator =1;
UPDATE field_type SET creator =1;
UPDATE form SET creator =1;
UPDATE form SET changed_by =1;
UPDATE form SET retired_by =1;
UPDATE form_field SET creator =1;
UPDATE form_field SET changed_by =1;
UPDATE hl7_source SET creator =1;
UPDATE idgen_identifier_source SET changed_by =1;
UPDATE idgen_identifier_source SET creator =1;
UPDATE idgen_identifier_source SET retired_by =1;
UPDATE idgen_log_entry SET generated_by =1;
UPDATE location SET changed_by =1;
UPDATE location SET creator =1;
UPDATE location SET retired_by =1;
UPDATE location_attribute SET changed_by =1;
UPDATE location_attribute SET creator =1;
UPDATE location_attribute SET voided_by =1;
UPDATE location_attribute_type SET changed_by =1;
UPDATE location_attribute_type SET creator =1;
UPDATE location_attribute_type SET retired_by =1;
UPDATE location_encounter_type_map SET changed_by =1;
UPDATE location_encounter_type_map SET creator =1;
UPDATE location_encounter_type_map SET voided_by =1;
UPDATE location_tag SET changed_by =1;
UPDATE location_tag SET creator =1;
UPDATE location_tag SET retired_by =1;
UPDATE note SET changed_by =1;
UPDATE note SET creator =1;
UPDATE notification_alert SET creator =1;
UPDATE notification_alert SET changed_by =1;
UPDATE notification_alert_recipient SET user_id =1;
UPDATE obs SET creator =1;
UPDATE obs SET voided_by =1;
UPDATE obs_relationship_type SET creator =1;
UPDATE obs_relationship_type SET changed_by =1;
UPDATE obs_relationship_type SET retired_by =1;
UPDATE order_frequency SET changed_by =1;
UPDATE order_frequency SET creator =1;
UPDATE order_frequency SET retired_by =1;
UPDATE order_type SET changed_by =1;
UPDATE order_type SET creator =1;
UPDATE order_type SET retired_by =1;
UPDATE orders SET creator =1;
UPDATE orders SET voided_by =1;
UPDATE patient SET changed_by =1;
UPDATE patient SET creator =1;
UPDATE patient SET voided_by =1;
UPDATE patient_identifier SET creator =1;
UPDATE patient_identifier SET voided_by =1;
UPDATE patient_identifier SET changed_by =1;
UPDATE patient_identifier_type SET creator =1;
UPDATE patient_identifier_type SET retired_by =1;
UPDATE patient_program SET creator =1;
UPDATE patient_program SET changed_by =1;
UPDATE patient_program SET voided_by =1;
UPDATE patient_program_attribute SET changed_by =1;
UPDATE patient_program_attribute SET creator =1;
UPDATE patient_state SET changed_by =1;
UPDATE patient_state SET creator =1;
UPDATE patient_state SET voided_by =1;
UPDATE person SET changed_by =1;
UPDATE person SET creator =1;
UPDATE person SET voided_by =1;
UPDATE person_address SET creator =1;
UPDATE person_address SET voided_by =1;
UPDATE person_address SET changed_by =1;
UPDATE person_attribute SET changed_by =1;
UPDATE person_attribute SET creator =1;
UPDATE person_attribute SET voided_by =1;
UPDATE person_attribute_type SET changed_by =1;
UPDATE person_attribute_type SET creator =1;
UPDATE person_attribute_type SET retired_by =1;
UPDATE person_merge_log SET changed_by =1;
UPDATE person_merge_log SET creator =1;
UPDATE person_merge_log SET voided_by =1;
UPDATE person_name SET creator =1;
UPDATE person_name SET voided_by =1;
UPDATE program SET creator =1;
UPDATE program SET changed_by =1;
UPDATE program_attribute_type SET retired_by =1;
UPDATE program_attribute_type SET changed_by =1;
UPDATE program_attribute_type SET creator =1;
UPDATE program_workflow SET changed_by =1;
UPDATE program_workflow SET creator =1;
UPDATE program_workflow_state SET changed_by =1;
UPDATE program_workflow_state SET creator =1;
UPDATE provider SET changed_by =1;
UPDATE provider SET creator =1;
UPDATE provider SET retired_by =1;
UPDATE provider_attribute SET changed_by =1;
UPDATE provider_attribute SET creator =1;
UPDATE provider_attribute SET voided_by =1;
UPDATE provider_attribute_type SET changed_by =1;
UPDATE provider_attribute_type SET creator =1;
UPDATE provider_attribute_type SET retired_by =1;
UPDATE relationship SET changed_by =1;
UPDATE relationship SET creator =1;
UPDATE relationship SET voided_by =1;
UPDATE relationship_type SET creator =1;
UPDATE relationship_type SET retired_by =1;
UPDATE report_object SET creator =1;
UPDATE report_object SET changed_by =1;
UPDATE report_object SET voided_by =1;
UPDATE reporting_report_design SET changed_by =1;
UPDATE reporting_report_design SET creator =1;
UPDATE reporting_report_design SET retired_by =1;
UPDATE reporting_report_design_resource SET changed_by =1;
UPDATE reporting_report_design_resource SET creator =1;
UPDATE reporting_report_design_resource SET retired_by =1;
UPDATE reporting_report_processor SET changed_by =1;
UPDATE reporting_report_processor SET creator =1;
UPDATE reporting_report_processor SET retired_by =1;
UPDATE reporting_report_request SET requested_by =1;
UPDATE scheduler_task_config SET changed_by =1;
UPDATE scheduler_task_config SET created_by =1;
UPDATE serialized_object SET changed_by =1;
UPDATE serialized_object SET creator =1;
UPDATE serialized_object SET retired_by =1;
UPDATE users SET creator =1;
UPDATE users SET changed_by =1;
UPDATE users SET retired_by =1;
UPDATE visit SET changed_by =1;
UPDATE visit SET creator =1;
UPDATE visit SET voided_by =1;
UPDATE visit_attribute SET changed_by =1;
UPDATE visit_attribute SET creator =1;
UPDATE visit_attribute SET voided_by =1;
UPDATE visit_attribute_type SET changed_by =1;
UPDATE visit_attribute_type SET creator =1;
UPDATE visit_attribute_type SET retired_by =1;
UPDATE visit_type SET changed_by =1;
UPDATE visit_type SET creator =1;
UPDATE visit_type SET retired_by =1;
UPDATE active_list SET creator =1;
UPDATE active_list SET voided_by =1;
UPDATE active_list_type SET creator =1;
UPDATE active_list_type SET retired_by =1;
UPDATE bahmni_config SET changed_by =1;
UPDATE bahmni_config SET creator =1;
UPDATE bed SET changed_by =1;
UPDATE bed SET creator =1;
UPDATE bed SET voided_by =1;
UPDATE bed_patient_assignment_map SET changed_by =1;
UPDATE bed_patient_assignment_map SET creator =1;
UPDATE bed_patient_assignment_map SET voided_by =1;
UPDATE care_setting SET changed_by =1;
UPDATE care_setting SET creator =1;
UPDATE care_setting SET retired_by =1;
UPDATE cohort SET creator =1;
UPDATE cohort SET changed_by =1;
UPDATE cohort SET voided_by =1;
UPDATE concept SET creator =1;
UPDATE concept SET changed_by =1;
UPDATE concept SET retired_by =1;
UPDATE concept_answer SET creator =1;
UPDATE concept_class SET creator =1;
UPDATE concept_class SET retired_by =1;
UPDATE concept_datatype SET creator =1;
UPDATE concept_datatype SET retired_by =1;
UPDATE concept_description SET changed_by =1;
UPDATE concept_description SET creator =1;
UPDATE concept_map_type SET changed_by =1;
UPDATE concept_map_type SET creator =1;
UPDATE concept_map_type SET retired_by =1;
UPDATE concept_name SET creator =1;
UPDATE concept_name SET voided_by =1;
UPDATE concept_proposal SET changed_by =1;
UPDATE concept_proposal SET creator =1;
UPDATE concept_reference_map SET changed_by =1;
UPDATE concept_reference_map SET creator =1;
UPDATE concept_reference_source SET creator =1;
UPDATE concept_reference_source SET retired_by =1;
UPDATE concept_reference_term SET changed_by =1;
UPDATE concept_reference_term SET creator =1;
UPDATE concept_reference_term SET retired_by =1;
UPDATE concept_reference_term_map SET changed_by =1;
UPDATE concept_reference_term_map SET creator =1;
UPDATE concept_set SET creator =1;
UPDATE conditions SET creator =1;
UPDATE conditions SET voided_by =1;
UPDATE drug SET changed_by =1;
UPDATE drug SET creator =1;
UPDATE drug SET retired_by =1;
UPDATE drug_reference_map SET creator =1;
UPDATE drug_reference_map SET changed_by =1;
UPDATE drug_reference_map SET retired_by =1;
UPDATE encounter SET changed_by =1;
UPDATE encounter SET creator =1;
UPDATE encounter SET voided_by =1;
UPDATE encounter_provider SET changed_by =1;
UPDATE encounter_provider SET creator =1;
UPDATE encounter_provider SET voided_by =1;
UPDATE encounter_role SET changed_by =1;
UPDATE encounter_role SET creator =1;
UPDATE encounter_role SET retired_by =1;
UPDATE encounter_type SET creator =1;
UPDATE encounter_type SET retired_by =1;
UPDATE field SET changed_by =1;
UPDATE field SET creator =1;
UPDATE field SET retired_by =1;
UPDATE field_answer SET creator =1;
UPDATE field_type SET creator =1;
UPDATE form SET creator =1;
UPDATE form SET changed_by =1;
UPDATE form SET retired_by =1;
UPDATE form_field SET creator =1;
UPDATE form_field SET changed_by =1;
UPDATE hl7_source SET creator =1;
UPDATE idgen_identifier_source SET changed_by =1;
UPDATE idgen_identifier_source SET creator =1;
UPDATE idgen_identifier_source SET retired_by =1;
UPDATE idgen_log_entry SET generated_by =1;
UPDATE location SET changed_by =1;
UPDATE location SET creator =1;
UPDATE location SET retired_by =1;
UPDATE location_attribute SET changed_by =1;
UPDATE location_attribute SET creator =1;
UPDATE location_attribute SET voided_by =1;
UPDATE location_attribute_type SET changed_by =1;
UPDATE location_attribute_type SET creator =1;
UPDATE location_attribute_type SET retired_by =1;
UPDATE location_encounter_type_map SET changed_by =1;
UPDATE location_encounter_type_map SET creator =1;
UPDATE location_encounter_type_map SET voided_by =1;
UPDATE location_tag SET changed_by =1;
UPDATE location_tag SET creator =1;
UPDATE location_tag SET retired_by =1;
UPDATE note SET changed_by =1;
UPDATE note SET creator =1;
UPDATE notification_alert SET creator =1;
UPDATE notification_alert SET changed_by =1;
UPDATE notification_alert_recipient SET user_id =1;
UPDATE obs SET creator =1;
UPDATE obs SET voided_by =1;
UPDATE obs_relationship_type SET creator =1;
UPDATE obs_relationship_type SET changed_by =1;
UPDATE obs_relationship_type SET retired_by =1;
UPDATE order_frequency SET changed_by =1;
UPDATE order_frequency SET creator =1;
UPDATE order_frequency SET retired_by =1;
UPDATE order_type SET changed_by =1;
UPDATE order_type SET creator =1;
UPDATE order_type SET retired_by =1;
UPDATE orders SET creator =1;
UPDATE orders SET voided_by =1;
UPDATE patient SET changed_by =1;
UPDATE patient SET creator =1;
UPDATE patient SET voided_by =1;
UPDATE patient_identifier SET creator =1;
UPDATE patient_identifier SET voided_by =1;
UPDATE patient_identifier SET changed_by =1;
UPDATE patient_identifier_type SET creator =1;
UPDATE patient_identifier_type SET retired_by =1;
UPDATE patient_program SET creator =1;
UPDATE patient_program SET changed_by =1;
UPDATE patient_program SET voided_by =1;
UPDATE patient_program_attribute SET changed_by =1;
UPDATE patient_program_attribute SET creator =1;
UPDATE patient_state SET changed_by =1;
UPDATE patient_state SET creator =1;
UPDATE patient_state SET voided_by =1;
UPDATE person SET changed_by =1;
UPDATE person SET creator =1;
UPDATE person SET voided_by =1;
UPDATE person_address SET creator =1;
UPDATE person_address SET voided_by =1;
UPDATE person_address SET changed_by =1;
UPDATE person_attribute SET changed_by =1;
UPDATE person_attribute SET creator =1;
UPDATE person_attribute SET voided_by =1;
UPDATE person_attribute_type SET changed_by =1;
UPDATE person_attribute_type SET creator =1;
UPDATE person_attribute_type SET retired_by =1;
UPDATE person_merge_log SET changed_by =1;
UPDATE person_merge_log SET creator =1;
UPDATE person_merge_log SET voided_by =1;
UPDATE person_name SET creator =1;
UPDATE person_name SET voided_by =1;
UPDATE program SET creator =1;
UPDATE program SET changed_by =1;
UPDATE program_attribute_type SET retired_by =1;
UPDATE program_attribute_type SET changed_by =1;
UPDATE program_attribute_type SET creator =1;
UPDATE program_workflow SET changed_by =1;
UPDATE program_workflow SET creator =1;
UPDATE program_workflow_state SET changed_by =1;
UPDATE program_workflow_state SET creator =1;
UPDATE provider SET changed_by =1;
UPDATE provider SET creator =1;
UPDATE provider SET retired_by =1;
UPDATE provider_attribute SET changed_by =1;
UPDATE provider_attribute SET creator =1;
UPDATE provider_attribute SET voided_by =1;
UPDATE provider_attribute_type SET changed_by =1;
UPDATE provider_attribute_type SET creator =1;
UPDATE provider_attribute_type SET retired_by =1;
UPDATE relationship SET changed_by =1;
UPDATE relationship SET creator =1;
UPDATE relationship SET voided_by =1;
UPDATE relationship_type SET creator =1;
UPDATE relationship_type SET retired_by =1;
UPDATE report_object SET creator =1;
UPDATE report_object SET changed_by =1;
UPDATE report_object SET voided_by =1;
UPDATE reporting_report_design SET changed_by =1;
UPDATE reporting_report_design SET creator =1;
UPDATE reporting_report_design SET retired_by =1;
UPDATE reporting_report_design_resource SET changed_by =1;
UPDATE reporting_report_design_resource SET creator =1;
UPDATE reporting_report_design_resource SET retired_by =1;
UPDATE reporting_report_processor SET changed_by =1;
UPDATE reporting_report_processor SET creator =1;
UPDATE reporting_report_processor SET retired_by =1;
UPDATE reporting_report_request SET requested_by =1;
UPDATE scheduler_task_config SET changed_by =1;
UPDATE scheduler_task_config SET created_by =1;
UPDATE serialized_object SET changed_by =1;
UPDATE serialized_object SET creator =1;
UPDATE serialized_object SET retired_by =1;
UPDATE users SET creator =1;
UPDATE users SET changed_by =1;
UPDATE users SET retired_by =1;
UPDATE visit SET changed_by =1;
UPDATE visit SET creator =1;
UPDATE visit SET voided_by =1;
UPDATE visit_attribute SET changed_by =1;
UPDATE visit_attribute SET creator =1;
UPDATE visit_attribute SET voided_by =1;
UPDATE visit_attribute_type SET changed_by =1;
UPDATE visit_attribute_type SET creator =1;
UPDATE visit_attribute_type SET retired_by =1;
UPDATE visit_type SET changed_by =1;
UPDATE visit_type SET creator =1;
UPDATE visit_type SET retired_by =1;


set foreign_key_checks=0;
delete from location where location.location_id in (select location_id from location_tag_map where location_tag_map.location_tag_id in (1,2));
delete from location_tag_map where location_tag_id in (1,2);
truncate table bed;
truncate table bed_location_map;
truncate table bed_type;
delete from event_records where category in ('patient', 'encounter','OpenMRSEncounter'); 
truncate idgen_log_entry;
delete from idgen_seq_id_gen where id = 1;
delete from idgen_identifier_source where id = 1;
update provider set person_id=NULL where person_id not in
        (select users.user_id from users where
          users.system_id in ('daemon','Lab Manager','Lab System','Billing System','superman','shrclientsystem','admin'));
delete from users where users.system_id not in ('daemon','Lab Manager','Lab System','Billing System','superman','shrclientsystem','admin');
delete from user_property where user_property.user_id not in ('daemon','Lab Manager','Lab System','Billing System','superman','shrclientsystem','admin');
delete from user_role where user_role.user_id not in ('daemon','Lab Manager','Lab System','Billing System','superman','shrclientsystem','admin');
	
delete from person_name where not exists
(select u.person_id from users u where person_name.person_id = u.person_id or person_name.person_id = 1)
                              and not exists (select p.person_id from provider p where person_name.person_id = p.person_id or person_name.person_id = 1);
delete from person where not exists
(select u.person_id from users u where person.person_id = u.person_id or person.person_id = 1)
                         and not exists (select p.person_id from provider p where person.person_id = p.person_id or person.person_id = 1);
delete from shr_id_mapping where type in ('patient', 'PERSON_RELATION', 'encounter', 'MedicationOrder');
delete from failed_event_retry_log where event_id in (select event_id from failed_events where title in ('OpenMRSEncounter', 'Patient') and failed_at < '2016-01-01');
delete from failed_events where title in ('OpenMRSEncounter', 'Patient') and failed_at < '2016-01-01';


set foreign_key_checks=1;
